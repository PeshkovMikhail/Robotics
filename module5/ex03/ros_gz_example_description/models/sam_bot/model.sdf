<?xml version="1.0" ?>
<sdf version="1.8">
    <model name='sam_bot'>
      <!-- Robot Base -->
      <link name="base_link">
        <visual name="visual_base">
          <geometry>
            <box>
              <size>0.42 0.31 0.18</size>
            </box>
          </geometry>
          <material name="Cyan">
            <color rgba="0 1.0 1.0 1.0"/>
          </material>
        </visual>
        <collision name="collision_base">
          <geometry>
            <box>
              <size>0.42 0.31 0.18</size>
            </box>
          </geometry>
        </collision>
      </link>

      <link name="drivewhl_l_link">
        <visual name="visual_drivewhl_l">
          <pose>1.5707963267948966 0 0 0 0 0</pose>
          <geometry>
            <cylinder length="0.04" radius="0.1"/>
          </geometry>
          <material name="Gray">
            <color rgba="0.5 0.5 0.5 1.0"/>
          </material>
        </visual>
        <collision name="collision_drivewhl_l">
          <pose>1.5707963267948966 0 0 0 0 0</pose>
          <geometry>
            <cylinder length="0.04" radius="0.1"/>
          </geometry>
        </collision>
      </link>
      <joint name="drivewhl_l_joint" type="revolute">
        <parent>base_link</parent>
        <child>drivewhl_l_link</child>
        <pose>0 0 0 -0.12 0.18 -0.05</pose>
        <axis xyz="0 1 0"/>
      </joint>
      <link name="drivewhl_r_link">
        <visual name="visual_drivewhl_r">
          <pose>1.5707963267948966 0 0 0 0 0</pose>
          <geometry>
            <cylinder length="0.04" radius="0.1"/>
          </geometry>
          <material name="Gray">
            <color rgba="0.5 0.5 0.5 1.0"/>
          </material>
        </visual>
        <collision name="collision_drivewhl_r">
          <pose>1.5707963267948966 0 0 0 0 0</pose>
          <geometry>
            <cylinder length="0.04" radius="0.1"/>
          </geometry>
        </collision>
      </link>
      <joint name="drivewhl_r_joint" type="revolute">
        <parent>base_link</parent>
        <child>drivewhl_r_link</child>
        <pose>0 0 0 -0.12 0.18 -0.05</pose>
        <axis xyz="0 1 0"/>
      </joint>
      <!-- Caster Wheel -->
      <link name="front_caster">
        <visual name="visual_front_caster">
          <geometry>
            <sphere radius="0.060000000000000026"/>
          </geometry>
          <material name="Cyan">
            <color rgba="0 1.0 1.0 1.0"/>
          </material>
        </visual>
        <collision name="collision_front_caster">
          <pose>0 0 0 0 0 0</pose>
          <geometry>
            <sphere radius="0.060000000000000026"/>
          </geometry>
        </collision>
      </link>
      <joint name="caster_joint" type="ball">
        <parent>base_link</parent>
        <child>front_caster</child>
        <pose>0 0 0 0.14 0.0 -0.09</pose>
      </joint>

      <plugin
        filename="ignition-gazebo-diff-drive-system"
        name="ignition::gazebo::systems::DiffDrive">
        <left_joint>drivewhl_l_joint</left_joint>
        <right_joint>drivewhl_r_joint</right_joint>
        <wheel_separation>0.31</wheel_separation>
        <wheel_radius>0.1</wheel_radius>
        <odom_publish_frequency>1</odom_publish_frequency>
        <max_linear_acceleration>1</max_linear_acceleration>
        <min_linear_acceleration>-1</min_linear_acceleration>
        <max_angular_acceleration>2</max_angular_acceleration>
        <min_angular_acceleration>-2</min_angular_acceleration>
        <max_linear_velocity>0.5</max_linear_velocity>
        <min_linear_velocity>-0.5</min_linear_velocity>
        <max_angular_velocity>1</max_angular_velocity>
        <min_angular_velocity>-1</min_angular_velocity>
      </plugin>
    </model>
</sdf>
